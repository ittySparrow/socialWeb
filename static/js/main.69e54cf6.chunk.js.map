{"version":3,"sources":["components/NavBar/NavBar.module.css","components/Dialogs/Dialogs.module.css","components/common/Preloader.jsx","components/common/FormControls.module.css","components/Header/Header.module.css","redux/usersReducer.js","assets/images/loadingImg.svg","components/Profile/MyPosts/MyPosts.module.css","components/Header/logo.png","components/Sidebar/SideBar.module.css","redux/profileReducer.js","redux/dialogsReducer.js","redux/sidebarReducer.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/NavBar/NavBar.jsx","components/Sidebar/FriendList/FriendList.jsx","components/Sidebar/Sidebar.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","utils/validators/validators.js","components/common/FormControls.jsx","components/Dialogs/AddMessageForm.jsx","components/HOC/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx","components/Dialogs/Dialogs.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/LoginForm.jsx","components/Login/Login.jsx","App.js","index.js","api/API.js"],"names":["module","exports","Preloader","src","loadingImg","TOGGLE_FOLLOW","SET_USERS","toggleFollow","userId","type","setCurrentPage","page","toggleIsFetching","isFetching","toggleFollowingInProgress","requestUsers","currentPage","pageSize","dispatch","a","usersAPI","getUsers","data","users","items","totalUsersCount","totalCount","followUnfollowUser","APIrequest","followUser","followAPI","follow","unfollowUser","unfollow","initialState","followingInProgress","usersReducer","state","action","map","u","id","followed","filter","ADD_POST","DELETE_POST","SET_STATUS","setStatus","status","postsData","post","likesCount","profile","profileReducer","newPost","text","p","ADD_NEW_MESSAGE","dialogsData","name","messagesData","message","dialogsReducer","newMessage","friendList","sidebarReducer","setAuthUserData","login","email","isAuth","payload","getAuthUserData","authAPI","getUserData","resultCode","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","messagesPage","sidebar","usersPage","auth","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","NavBar","className","style","navbar","item","to","activeClassName","active","FriendList","props","friends","imgUrl","alt","Sidebar","connect","DialogItem","path","dialog","avatar","dialogItem","Message","composeValidators","validators","value","reduce","error","validator","undefined","requieredField","maxLengthCreator","maxLength","length","Textarea","input","meta","hasError","touched","styles","formControl","Input","maxLength100","addNewMessage","onSubmit","render","handleSubmit","component","placeholder","validate","mapStateToProps","Component","RedirectComponent","this","React","newMessageText","withAuthRedirect","dialogElements","messagesElements","dialogs","dialogItems","messages","AddMessageForm","ProfileStatusWithHooks","useState","editMode","setEditMode","useEffect","onChange","e","target","autoFocus","onBlur","updateStatus","onDoubleClick","ProfileInfo","photos","large","Post","maxLength30","PostForm","addPost","MyPosts","postsElements","posts","MyPostsContainer","newPostText","ProfileContainer","match","params","authUserId","history","push","setProfile","getStatus","Profile","withRouter","profileAPI","getUserProfile","Header","logout","header","Logo","loginBlock","onClick","HeaderContainer","LoginForm","password","rememberMe","submitError","UsersContainer","lazy","App","initializeApp","DialogsContainer","fallback","promise","Promise","all","then","ReactDOM","StrictMode","document","getElementById","instance","axios","baseURL","withCredentials","headers","get","responce","delete","response","put"],"mappings":"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","file":"static/js/main.69e54cf6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__g2qiZ\",\"item\":\"NavBar_item__3HH8z\",\"active\":\"NavBar_active__sMGe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3AkNo\",\"dialogItems\":\"Dialogs_dialogItems__3bCkw\",\"active\":\"Dialogs_active__2apcq\",\"avatar\":\"Dialogs_avatar__1y1hG\",\"messages\":\"Dialogs_messages__2z8mu\",\"dialog\":\"Dialogs_dialog__3SPou\",\"dialogItem\":\"Dialogs_dialogItem__2nrUU\"};","import React from 'react';\r\nimport loadingImg from '../../assets/images/loadingImg.svg'\r\n\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div><img src={loadingImg}/></div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1IqeD\",\"error\":\"FormControls_error__1VYdL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2FXRx\",\"loginBlock\":\"Header_loginBlock__1XxOS\"};","import { usersAPI, followAPI } from \"../api/API\";\r\n\r\nconst TOGGLE_FOLLOW = \"usersReducer/TOGGLE_FOLLOW\";\r\nconst SET_USERS = \"usersReducer/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"usersReducer/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"usersReducer/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"usersReducer/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS =\r\n  \"usersReducer/TOGGLE_FOLLOWING_IN_PROGRESS\";\r\n\r\nexport const toggleFollow = (userId) => ({ type: TOGGLE_FOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, page });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  const data = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\nconst followUnfollowUser = (userId, APIrequest) => async (dispatch) => {\r\n  dispatch(toggleFollowingInProgress(true, userId));\r\n  const resultCode = await APIrequest(userId);\r\n  if (resultCode === 0) {\r\n    dispatch(toggleFollow(userId));\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n  }\r\n};\r\nexport const followUser = (userId) =>\r\n  followUnfollowUser(userId, followAPI.follow);\r\nexport const unfollowUser = (userId) =>\r\n  followUnfollowUser(userId, followAPI.unfollow);\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) =>\r\n          u.id === action.userId ? { ...u, followed: !u.followed } : u\r\n        ),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.page,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsersCount,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/loadingImg.da69f7d1.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3_PLa\"};","module.exports = __webpack_public_path__ + \"static/media/logo.a3fedab4.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"SideBar_sidebar__A3uUc\"};","import { profileAPI } from \"../api/API\";\r\n\r\nconst ADD_POST = \"profileReducer/ADD_POST\";\r\nconst DELETE_POST = \"profileReducer/DELETE_POST\";\r\nconst SET_USER_PROFILE = \"profileReducer/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"profileReducer/SET_STATUS\";\r\n\r\nexport const addPost = (text) => ({ type: ADD_POST, text });\r\nexport const deletePost = (id) => ({ type: DELETE_POST, id });\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\nexport const setProfile = (userId) => async (dispatch) => {\r\n  const data = await profileAPI.getUserProfile(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const data = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  postsData: [\r\n    { id: 1, post: \"Hello, this is my first post\", likesCount: 3 },\r\n    { id: 2, post: \"Is anybody here?\", likesCount: 9 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      const newPost = {\r\n        id: 5,\r\n        post: action.text,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        postsData: [...state.postsData, newPost],\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        postsData: state.postsData.filter((p) => p.id !== action.id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","const ADD_NEW_MESSAGE = \"dialogsReducer/ADD-NEW-MESSAGE\";\r\n\r\nexport const addNewMessage = (text) => ({ type: ADD_NEW_MESSAGE, text });\r\n\r\nconst initialState = {\r\n  dialogsData: [\r\n    { id: 1, name: \"Darja\" },\r\n    { id: 2, name: \"Sergei\" },\r\n    { id: 3, name: \"Sveta\" },\r\n    { id: 4, name: \"Andrey\" },\r\n    { id: 5, name: \"Alex\" },\r\n  ],\r\n  messagesData: [\r\n    { id: 1, message: \"Hello, my brave girl.\" },\r\n    { id: 2, message: \"Let's do it, girl.\" },\r\n    { id: 3, message: \"You can do it, I promise.\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_NEW_MESSAGE:\r\n      const newMessage = {\r\n        id: 3,\r\n        message: action.text,\r\n      };\r\n      return {\r\n        ...state,\r\n        messagesData: [...state.messagesData, newMessage],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\n","const initialState = {\r\n    friendList: [\r\n    //     {id: 1, imgUrl: '', name: 'Sergei'},\r\n    //     {id: 2, imgUrl: '', name: 'Andrei'},\r\n    //     {id: 1, imgUrl: '', name: 'Darja'},\r\n    ],\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import { authAPI } from \"../api/API\";\r\n\r\nconst SET_AUTH_USER_DATA = \"authReducer/SET_AUTH_USER_DATA\";\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({\r\n  type: SET_AUTH_USER_DATA,\r\n  payload: { id, login, email, isAuth },\r\n});\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const data = await authAPI.getUserData();\r\n  if (data.resultCode === 0) {\r\n    const { id, login, email } = data.data;\r\n    dispatch(setAuthUserData(id, login, email, true));\r\n  }\r\n};\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const data = await authAPI.login(email, password, rememberMe);\r\n  if (data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  id: null,\r\n  login: null,\r\n  email: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"appReducer/INITIALIZED_SUCCESS\";\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    const promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => dispatch(initializedSuccess()));\r\n  };\r\n};\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default appReducer;\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  messagesPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport style from './NavBar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <nav className={style.navbar}>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/profile\" activeClassName={style.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={style.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/users\" activeClassName={style.active}>Users</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/music\" activeClassName={style.active}>Music</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/settings\" activeClassName={style.active}>Settings</NavLink>\r\n            </div>\r\n\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\n\r\nconst FriendList = (props) => {\r\n    const friends = props.friendList\r\n        .map(({ imgUrl, name }) => <div className=\"friend\"><img alt=\"\" src={imgUrl} />{name}</div>)\r\n    return <div className=\"friendList\">{friends}</div>;\r\n}\r\n\r\nexport default FriendList;","import React from \"react\";\r\nimport FriendList from \"./FriendList/FriendList\";\r\nimport style from \"./SideBar.module.css\"\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friendList: state.sidebar.friendList,\r\n    }\r\n}\r\n\r\nconst Sidebar = connect(mapStateToProps)(FriendList);\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport style from \"./../Dialogs.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItem = ({ id, name, imgUrl }) => {\r\n  const path = \"/dialogs/\" + id;\r\n  return (\r\n    <div className={style.dialog}>\r\n      <img className={style.avatar} src={imgUrl} />\r\n      <NavLink\r\n        to={path}\r\n        className={style.dialogItem}\r\n        activeClassName={style.active}\r\n      >\r\n        {name}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport style from \"./../Dialogs.module.css\";\r\n\r\nconst Message = ({ message }) => {\r\n  return (\r\n    <div>\r\n      <div className={style.message}>{message}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","export const composeValidators = (...validators) => (value) =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\nexport const requieredField = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Maximum length is ${maxLength} symbols`;\r\n  }\r\n\r\n  return undefined;\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\";\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error !== \"Field is required\";\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>\r\n        <textarea {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>\r\n        <input {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport {\r\n  composeValidators,\r\n  requieredField,\r\n  maxLengthCreator,\r\n} from \"../../utils/validators/validators\";\r\nimport { Textarea } from \"../common/FormControls\";\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nexport default ({ addNewMessage }) => {\r\n  const onSubmit = ({ newMessage }) => {\r\n    addNewMessage(newMessage);\r\n  };\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <Field\r\n              component={Textarea}\r\n              name=\"newMessage\"\r\n              placeholder=\"New Message\"\r\n              validate={composeValidators(requieredField, maxLength100)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button>Send message</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'/login'} />;\r\n            }\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}","import React from \"react\";\r\nimport { addNewMessage } from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nconst mapStateToProps = ({ messagesPage }) => {\r\n  return {\r\n    newMessageText: messagesPage.newMessageText,\r\n    dialogsData: messagesPage.dialogsData,\r\n    messagesData: messagesPage.messagesData,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { addNewMessage }),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n","import React from \"react\";\r\nimport style from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageForm from \"./AddMessageForm\";\r\n\r\nexport default ({ dialogsData, messagesData, addNewMessage }) => {\r\n  const dialogElements = dialogsData.map(({ id, name }) => (\r\n    <DialogItem name={name} id={id} />\r\n  ));\r\n\r\n  const messagesElements = messagesData.map(({ message }) => (\r\n    <Message message={message} />\r\n  ));\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogItems}>{dialogElements}</div>\r\n      <div className={style.messages}>\r\n        <div>{messagesElements}</div>\r\n        <AddMessageForm addNewMessage={addNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport const ProfileStatusWithHooks = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!editMode ? (\r\n        <span onDoubleClick={activateEditMode}>{props.status || \"...\"}</span>\r\n      ) : (\r\n        <input\r\n          onChange={onStatusChange}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n          value={status}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport style from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/Preloader\";\r\nimport { ProfileStatusWithHooks } from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <img src={profile.photos.large}></img>\r\n      <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n      <div>ava+description</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport style from \"./Post.module.css\";\r\n\r\nconst Post = ({ message, likesCount }) => {\r\n  return (\r\n    <div className=\"postFrame\">\r\n      <div className=\"post\">{message}</div>\r\n      <div className=\"likesCount\">likes: {likesCount}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport style from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport {\r\n  composeValidators,\r\n  requieredField,\r\n  maxLengthCreator,\r\n} from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormControls\";\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst PostForm = ({ addPost }) => {\r\n  const onSubmit = ({ newPost }) => {\r\n    addPost(newPost);\r\n  };\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <Field\r\n              component={Textarea}\r\n              name=\"newPost\"\r\n              placeholder=\"New Post\"\r\n              validate={composeValidators(requieredField, maxLength30)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button>Add post</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nconst MyPosts = ({ postsData, addPost }) => {\r\n  const postsElements = postsData.map(({ post, likesCount }) => (\r\n    <Post message={post} likesCount={likesCount} />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      <h3>My posts</h3>\r\n      <PostForm addPost={addPost} />\r\n      <div className={style.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport { addPost } from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nexport default ({ profile, status, updateStatus }) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={profile}\r\n        status={status}\r\n        updateStatus={updateStatus}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setProfile,\r\n  getStatus,\r\n  updateStatus,\r\n} from \"../../redux/profileReducer\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authUserId;\r\n      if (!userId) {\r\n        return this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.setProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  status: state.profilePage.status,\r\n  profile: state.profilePage.profile,\r\n  isAuth: state.auth.isAuth,\r\n  authUserId: state.auth.id,\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { setProfile, getStatus, updateStatus }),\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n","import React from \"react\";\r\nimport style from \"./Header.module.css\";\r\nimport Logo from \"./logo.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <img src={Logo} />\r\n      <div className={style.loginBlock}>\r\n        {isAuth ? (\r\n          <>\r\n            <NavLink to={\"/profile\"}>{login}</NavLink>\r\n            <button onClick={logout}>logout</button>\r\n          </>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return {\r\n    isAuth: auth.isAuth,\r\n    login: auth.login,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport { Input } from \"../common/FormControls\";\r\nimport {\r\n  composeValidators,\r\n  requieredField,\r\n} from \"../../utils/validators/validators\";\r\n\r\nexport const LoginForm = ({ login }) => {\r\n  const onSubmit = ({ email, password, rememberMe }) => {\r\n    login(email, password, rememberMe);\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ submitError, handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <Field\r\n              component={Input}\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              validate={composeValidators(requieredField)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Field\r\n              component={Input}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              validate={composeValidators(requieredField)}\r\n            />\r\n          </div>\r\n          {submitError && <div>{submitError}</div>}\r\n          <div>\r\n            <Field component={Input} name=\"rememberMe\" type=\"checkbox\" />\r\n            remember me\r\n          </div>\r\n          <div>\r\n            <button>Login</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { LoginForm } from \"./LoginForm\";\r\n\r\nconst Login = (props) => {\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginForm {...props} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport NavBar from \"./components/NavBar/NavBar\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { initializeApp } from \"./redux/appReducer\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { connect } from \"react-redux\";\r\nimport Preloader from \"./components/common/Preloader\";\r\nimport { Suspense } from \"react\";\r\n\r\nconst UsersContainer = React.lazy(() =>\r\n  import(\"./components/Users/UsersContainer\")\r\n);\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <NavBar />\r\n        <Sidebar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\r\n          <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\r\n          <Route\r\n            path=\"/users\"\r\n            component={() => (\r\n              <Suspense fallback={<Preloader />}>\r\n                <UsersContainer />\r\n              </Suspense>\r\n            )}\r\n          />\r\n          <Route path=\"/login\" component={() => <Login />} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n});\r\nexport default connect(mapStateToProps, { initializeApp })(App);\r\n","import React from 'react';\r\nimport './index.css';\r\nimport store from \"./redux/reduxStore\";\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"03606b0b-0990-4674-83db-0e28abe1bd02\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((responce) => responce.data);\r\n  },\r\n};\r\n\r\nexport const followAPI = {\r\n  follow(userId) {\r\n    return instance\r\n      .post(`follow/${userId}`)\r\n      .then(({ data }) => data.resultCode);\r\n  },\r\n  unfollow(userId) {\r\n    return instance\r\n      .delete(`follow/${userId}`)\r\n      .then(({ data }) => data.resultCode);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  getUserData() {\r\n    return instance.get(\"auth/me\").then((response) => response.data);\r\n  },\r\n\r\n  login(email, password, rememberMe = false) {\r\n    return instance\r\n      .post(\"auth/login\", { email, password, rememberMe })\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(\"auth/login\");\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`).then((response) => response.data);\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`).then(({ data }) => data);\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status });\r\n  },\r\n};\r\n"],"sourceRoot":""}